{"ast":null,"code":"var _jsxFileName = \"D:\\\\FINKI\\\\3god\\\\emt\\\\wp-aud-master\\\\web\\\\frontend\\\\src\\\\components\\\\App\\\\AppBook.js\";\nimport './App.css';\nimport React, { Component } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport ReactDOM from 'react-dom';\nimport { render } from \"react-dom\";\nimport { BrowserRouter, Routes, Route, Router } from \"react-router-dom\";\nimport Books from '../Books/BookList/bookList';\nimport Header from '../Header/header';\nimport Authors from '../Authors/authors';\nimport BookAdd from \"../Books/BookAdd/bookAdd\";\nimport BookEdit from \"../Books/BookEdit/bookEdit\";\nimport libraryService from \"../../repository/libraryRepository\";\nimport Categories from \"../Categories/categories\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AppBook extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadAuthors = () => {\n      libraryService.fetchAuthors().then(data => {\n        this.setState({\n          authors: data.data\n        });\n      });\n    };\n\n    this.loadCategories = () => {\n      libraryService.fetchCategories().then(data => {\n        this.setState({\n          categories: data.data\n        });\n      });\n    };\n\n    this.loadBooks = () => {\n      libraryService.fetchBooks().then(data => {\n        this.setState({\n          books: data.data\n        });\n      });\n    };\n\n    this.deleteBook = id => {\n      libraryService.deleteBook(id).then(() => {\n        this.loadBooks();\n      });\n    };\n\n    this.addBook = (name, category, author, availableCopies) => {\n      libraryService.addBook(name, category, author, availableCopies).then(() => {\n        this.loadBooks();\n      });\n    };\n\n    this.getBook = id => {\n      libraryService.getBook(id).then(data => {\n        this.setState({\n          selectedBook: data.data\n        });\n      });\n    };\n\n    this.editBook = (id, name, category, author, availableCopies) => {\n      libraryService.editBook(id, name, category, author, availableCopies).then(() => {\n        this.loadBooks();\n      });\n    };\n\n    this.state = {\n      authors: [],\n      books: [],\n      categories: [],\n      selectedBooks: {}\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/authors\",\n              element: /*#__PURE__*/_jsxDEV(Authors, {\n                authors: this.state.authors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/categories\",\n              element: /*#__PURE__*/_jsxDEV(Categories, {\n                categories: this.state.categories\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/books/add\",\n              element: /*#__PURE__*/_jsxDEV(BookAdd, {\n                categories: this.state.categories,\n                author: this.state.author,\n                onAddBook: this.addBook\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/books/edit/:id\",\n              element: /*#__PURE__*/_jsxDEV(BookEdit, {\n                categories: this.state.categories,\n                author: this.state.author,\n                onEditBook: this.editBook,\n                book: this.state.selectedBooks\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/books\",\n              element: /*#__PURE__*/_jsxDEV(Books, {\n                books: this.state.books,\n                onDelete: this.deleteBook,\n                onEdit: this.getBook\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this);\n  }\n\n  componentDidMount() {\n    this.loadAuthors();\n    this.loadBooks();\n    this.loadCategories();\n  }\n\n}\n\nexport default AppBook;","map":{"version":3,"sources":["D:/FINKI/3god/emt/wp-aud-master/web/frontend/src/components/App/AppBook.js"],"names":["React","Component","ReactDOM","render","BrowserRouter","Routes","Route","Router","Books","Header","Authors","BookAdd","BookEdit","libraryService","Categories","AppBook","constructor","props","loadAuthors","fetchAuthors","then","data","setState","authors","loadCategories","fetchCategories","categories","loadBooks","fetchBooks","books","deleteBook","id","addBook","name","category","author","availableCopies","getBook","selectedBook","editBook","state","selectedBooks","componentDidMount"],"mappings":"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","sourcesContent":["import './App.css';\r\nimport React, {Component} from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport ReactDOM from 'react-dom';\r\nimport { render } from \"react-dom\";\r\nimport {\r\n    BrowserRouter,\r\n    Routes,\r\n    Route, Router,\r\n} from \"react-router-dom\";\r\nimport Books from '../Books/BookList/bookList'\r\nimport Header from '../Header/header';\r\nimport Authors from '../Authors/authors'\r\nimport BookAdd from \"../Books/BookAdd/bookAdd\";\r\nimport BookEdit from \"../Books/BookEdit/bookEdit\";\r\nimport libraryService from \"../../repository/libraryRepository\";\r\nimport Categories from \"../Categories/categories\";\r\n\r\nclass AppBook extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            authors: [],\r\n            books: [],\r\n            categories: [],\r\n            selectedBooks: {}\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return (\r\n            <BrowserRouter>\r\n                <Header></Header>\r\n                <main>\r\n                    <div className=\"container\">\r\n                        <Routes>\r\n\r\n                            <Route path=\"/authors\"  element={\r\n                                <Authors authors={this.state.authors}/>}/>\r\n                            <Route path=\"/categories\"  element={\r\n                                <Categories categories={this.state.categories}/>}/>\r\n                            <Route path={\"/books/add\"} element={\r\n                                <BookAdd categories={this.state.categories}\r\n                                         author={this.state.author}\r\n                                            onAddBook={this.addBook}/>}/>\r\n                            <Route path=\"/books/edit/:id\"  element={\r\n                                <BookEdit categories={this.state.categories}\r\n                                          author={this.state.author}\r\n                                          onEditBook={this.editBook}\r\n                                             book={this.state.selectedBooks}/>}/>\r\n                            <Route path=\"/books\" element={\r\n                                <Books books={this.state.books}\r\n                                          onDelete={this.deleteBook}\r\n                                          onEdit={this.getBook}/>}/>\r\n                        </Routes>\r\n                    </div>\r\n                </main>\r\n            </BrowserRouter>);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadAuthors();\r\n        this.loadBooks();\r\n        this.loadCategories();\r\n    }\r\n\r\n    loadAuthors = () => {\r\n        libraryService.fetchAuthors()\r\n            .then((data) => {\r\n                this.setState({\r\n                    authors: data.data\r\n                })\r\n            })\r\n    }\r\n    loadCategories = () => {\r\n        libraryService.fetchCategories()\r\n            .then((data) => {\r\n                this.setState({\r\n                    categories: data.data\r\n                })\r\n            })\r\n    }\r\n\r\n    loadBooks = () => {\r\n        libraryService.fetchBooks()\r\n            .then((data) => {\r\n                this.setState({\r\n                    books: data.data\r\n                })\r\n            })\r\n    }\r\n\r\n    deleteBook = (id) => {\r\n        libraryService.deleteBook(id)\r\n            .then(() => {\r\n                this.loadBooks();\r\n            })\r\n    }\r\n\r\n    addBook = (name,category, author,availableCopies) => {\r\n        libraryService.addBook(name, category, author, availableCopies)\r\n            .then(() => {\r\n                this.loadBooks();\r\n            })\r\n    }\r\n\r\n    getBook = (id) => {\r\n        libraryService.getBook(id)\r\n            .then((data) => {\r\n                this.setState({\r\n                    selectedBook: data.data\r\n                })\r\n            })\r\n    }\r\n\r\n    editBook = (id,name,category, author,availableCopies) => {\r\n        libraryService.editBook(id, name,category, author,availableCopies)\r\n            .then(() => {\r\n                this.loadBooks();\r\n            })\r\n    }\r\n}\r\n\r\nexport default AppBook;\r\n"]},"metadata":{},"sourceType":"module"}